.grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: var(--space-3);
}

.card {
  background: var(--card-bg);
  border-radius: var(--radius-2);
  padding: var(--space-3);
  position: relative;
  box-shadow: var(--card-shadow);
}
body.theme-dark .card { background: var(--card-bg); }

.card h3 { margin-top: 0; }
.card img { width: 100%; border-radius: var(--radius-1); }

.card::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: var(--radius-2);
  animation: pulse 6s infinite;
}

@keyframes pulse {
  0%,100% { box-shadow: 0 0 0 0 rgba(77,171,247,0); }
  50% { box-shadow: 0 0 0 10px rgba(77,171,247,0.08); }
}

.filters { margin-bottom: var(--space-3); }

/* Proyectos page specifics */
.proyectos-header { display:flex;align-items:center;justify-content:space-between;gap:1rem;margin-bottom:1rem }
.proyectos-header h1{margin:0;font-size:1.6rem}

.grid.grid-cols-2{grid-template-columns:1fr}

@media (min-width:640px){
  .grid.grid-cols-2{grid-template-columns:repeat(2,1fr)}
}
@media (min-width:1000px){
  .grid.grid-cols-2{grid-template-columns:repeat(3,1fr)}
}

/* Project card refinements */
.project-card {
  background: var(--card-bg);
  border-radius: 12px;
  box-shadow: var(--card-shadow);
  overflow: hidden;
  display: flex;
  flex-direction: column;
  transition: transform 220ms ease, box-shadow 260ms ease, background 300ms ease;
  will-change: transform, box-shadow;
  transform: translateZ(0);
}
.project-card:hover,
.project-card:focus-within {
  transform: translateY(-6px) scale(var(--card-hover-scale));
  box-shadow: var(--card-shadow-hover);
}
.project-card img{width:100%;height:160px;object-fit:cover;display:block}
.project-meta{padding:1rem;flex:1;display:flex;flex-direction:column;gap:0.5rem}
.project-meta h3{margin:0;font-size:1.05rem;color:var(--fg)}
.project-meta p{margin:0;color:var(--muted);line-height:1.4}
.project-actions{display:flex;gap:0.5rem;margin-top:0.6rem}
.project-actions .btn{padding:0.45rem 0.65rem;font-size:0.95rem}

/* ensure the grid uses the spacing variable */
.grid{gap:var(--space-3)}

/* Comments UI */
.project-comments{border-top:1px solid rgba(0,0,0,0.04);padding:0.75rem 1rem;background:var(--bg-light)}
.comments-list{display:flex;flex-direction:column;gap:0.6rem;margin-bottom:0.6rem}
.comment{background:rgba(0,0,0,0.02);padding:0.6rem;border-radius:8px}
.comment .comment-meta{font-size:0.9rem;color:var(--muted);margin-bottom:0.25rem}
.comment .comment-body{white-space:pre-wrap}
.comment-form{display:flex;flex-direction:column;gap:0.4rem}
.comment-form input.commenter-input,.comment-form textarea.comment-input{border:1px solid rgba(0,0,0,0.06);padding:0.5rem;border-radius:6px}
.comment-actions{display:flex;justify-content:flex-end}
.comment-feedback{color:var(--muted);font-size:0.9rem;min-height:1.2em}

@media (max-width:640px){
  .project-comments{padding:0.6rem}
  .project-card img{height:180px}
}

/* Dark mode overrides for proyectos */
.theme-dark .project-card{background:var(--card-bg);box-shadow:var(--card-shadow)}
.theme-dark .project-meta p{color:var(--muted)}
.theme-dark .project-comments{background:var(--card-bg)}
.theme-dark .comment{background:rgba(255,255,255,0.03)}
.theme-dark .project-card h3{color:var(--fg)}

/* hamburger menu */
.menu-toggle{display:none;background:transparent;border:0;font-size:1.25rem;padding:0.45rem;border-radius:8px}
.menu-toggle:focus{outline:3px solid rgba(11,117,214,0.18)}

@media (max-width:640px){
  .menu-toggle{display:inline-block}
  #primary-nav{position:absolute;left:0;right:0;top:64px;background:var(--bg-light);padding:0.75rem 1rem;display:none;flex-direction:column;gap:0.5rem;border-bottom:1px solid rgba(0,0,0,0.04)}
  #primary-nav.show{display:flex}
  #primary-nav a{padding:0.6rem 0.75rem;border-radius:8px}
}
